(()=>{"use strict";var e=document.querySelector("input#username"),t=document.querySelector("input#password"),r=document.querySelector("input#csrf"),n=document.querySelector("#submit"),o=document.querySelector("#errorBox");function u(){(async function(e,t){const r=await fetch("/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},referrerPolicy:"origin",body:JSON.stringify(t)});if(!0!==r.redirected)return await r.json();window.location.href=r.url})(0,{username:e.value,password:t.value,_csrf:r.value}).then((r=>{"ERROR"===r.status&&(e.value="",t.value="",o.style.display="block",o.innerHTML=r.message)}))}e.addEventListener("keyup",(e=>"Enter"===e.key&&u())),t.addEventListener("keyup",(e=>"Enter"===e.key&&u())),n.addEventListener("click",u)})();